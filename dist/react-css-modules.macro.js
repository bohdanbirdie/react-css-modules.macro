function e(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function n(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function r(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t=require("babel-plugin-macros").createMacro,i=require("../package.json").name,a={enableMemo:!0,targetTag:"styleName",warning:!0},o=function(e){return e&&e.name&&e.name.name?e.name.name:""},u=t(function(t){var u=t.references,s=t.babel,l=function(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(n){e(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}({},a,{},t.config),c=u.macro,f=s.types;(void 0===c?[]:c).forEach(function(e){var n=e.parent.arguments[0];if(!n)throw"Styles map argument must be provided";var t=e.findParent(function(e){return e.isProgram()});e.parentPath.remove();var a=t.get("body").find(function(e){return f.isImportDeclaration(e)}),u=t.get("body").find(function(e){return!f.isImportDeclaration(e)}),s=t.scope.generateUidIdentifier("getStyleName"),c=t.scope.generateUidIdentifier("bindStyleNames"),p="".concat(i,l.enableMemo?"/dist/bindStyleNameMemo":"/dist/bindStyleNamePure"),m=f.importDeclaration([f.importDefaultSpecifier(c)],f.stringLiteral(p)),b=f.variableDeclaration("const",[f.variableDeclarator(s,f.callExpression(c,[n,f.booleanLiteral(!!l.warning)]))]);a.insertBefore(m),u.insertBefore(b),t.traverse(function(e,n,t){return{JSXElement:function(i){if(i.node.openingElement.attributes.length){var a=function(e,n){var r=e.node.openingElement.attributes.find(function(e){return n.isJSXSpreadAttribute(e)});return!!r&&n.memberExpression(r.argument,n.identifier("className"))}(i,e),u=function(e,n,r){return e.node.openingElement.attributes.map(function(e){return r.isJSXAttribute(e)&&o(e)===n.targetTag}).indexOf(!0)}(i,t,e),s=i.node.openingElement.attributes.find(function(e){return o(e)===t.targetTag});if(s){var l=function(e,n){if(e.isStringLiteral(n.value)){if(!n.value.value)return;var r=n.value.value.split(" ").map(function(n){return e.stringLiteral(n)});return r.length>1?e.arrayExpression(r):r[0]?r[0]:void 0}return n.value.expression}(e,s),c=e.callExpression(n,r([l].filter(Boolean))),f=function(e,n){return e.node.openingElement.attributes.find(function(e){return"className"===o(e)})}(i);if(f)l&&(e.isJSXExpressionContainer(f.value)&&(f.value=e.JSXExpressionContainer(e.binaryExpression("+",f.value.expression,c))),e.isStringLiteral(f.value)&&(f.value=e.JSXExpressionContainer(e.binaryExpression("+",f.value,c)))),function(e,n){e.node.openingElement.attributes=r(e.node.openingElement.attributes.filter(function(e){return o(e)!==n.targetTag}))}(i,t);else{var p=function(e,n){return e.JSXAttribute(e.jsxIdentifier("className"),n)}(e,e.JSXExpressionContainer(a?e.binaryExpression("+",a,c):c));i.node.openingElement.attributes[u]=p}}}}}}(f,s,l))})},{configName:"reactCssModulesMacro"});module.exports=u;
//# sourceMappingURL=react-css-modules.macro.js.map
