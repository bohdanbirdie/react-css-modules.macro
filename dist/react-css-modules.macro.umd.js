!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.reactCssModulesMacro=n()}(this,function(){function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=require("babel-plugin-macros").createMacro,i=require("../package.json").name,a={enableMemo:!0,targetTag:"styleName",warning:!0},o=function(e){return e&&e.name&&e.name.name?e.name.name:""};return r(function(r){var u=r.references,s=r.babel,l=function(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(i,!0).forEach(function(n){e(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},a,{},r.config),c=u.macro,f=s.types;(void 0===c?[]:c).forEach(function(e){var n=e.parent.arguments[0];if(!n)throw"Styles map argument must be provided";var r=e.findParent(function(e){return e.isProgram()});e.parentPath.remove();var a=r.get("body").find(function(e){return f.isImportDeclaration(e)}),u=r.get("body").find(function(e){return!f.isImportDeclaration(e)}),s=r.scope.generateUidIdentifier("getStyleName"),c=r.scope.generateUidIdentifier("bindStyleNames"),p="".concat(i,l.enableMemo?"/dist/bindStyleNameMemo":"/dist/bindStyleNamePure"),m=f.importDeclaration([f.importDefaultSpecifier(c)],f.stringLiteral(p)),b=f.variableDeclaration("const",[f.variableDeclarator(s,f.callExpression(c,[n,f.booleanLiteral(!!l.warning)]))]);a.insertBefore(m),u.insertBefore(b),r.traverse(function(e,n,r){return{JSXElement:function(i){if(i.node.openingElement.attributes.length){var a=function(e,n){return e.node.openingElement.attributes.find(function(e){return n.isJSXSpreadAttribute(e)})||!1}(i,e),u=function(e,n){return!!a&&n.memberExpression(a.argument,n.identifier("className"))}(0,e),s=function(e,n,t){return e.node.openingElement.attributes.map(function(e){return t.isJSXAttribute(e)&&o(e)===n.targetTag}).indexOf(!0)}(i,r,e),l=i.node.openingElement.attributes.find(function(e){return o(e)===r.targetTag});if(l){var c=function(e,n){if(e.isStringLiteral(n.value)){if(!n.value.value)return;var t=n.value.value.split(" ").map(function(n){return e.stringLiteral(n)});return t.length>1?e.arrayExpression(t):t[0]?t[0]:void 0}return n.value.expression}(e,l),f=e.callExpression(n,t([c].filter(Boolean))),p=function(e,n){return e.node.openingElement.attributes.find(function(e){return"className"===o(e)})}(i);if(p)c&&(e.isJSXExpressionContainer(p.value)&&(p.value=e.JSXExpressionContainer(e.binaryExpression("+",p.value.expression,f))),e.isStringLiteral(p.value)&&(p.value=e.JSXExpressionContainer(e.binaryExpression("+",p.value,f)))),function(e,n){e.node.openingElement.attributes=t(e.node.openingElement.attributes.filter(function(e){return o(e)!==n.targetTag}))}(i,r);else{var m=function(e,n){return e.JSXAttribute(e.jsxIdentifier("className"),n)}(e,e.JSXExpressionContainer(a?e.binaryExpression("+",u,f):f));i.node.openingElement.attributes[s]=m;var b=i.node.openingElement.attributes.indexOf(a);b>=0&&(i.node.openingElement.attributes[b]=function(e,n){return n.JSXSpreadAttribute(n.callExpression(n.ArrowFunctionExpression([],n.BlockStatement([n.VariableDeclaration("const",[n.VariableDeclarator(n.identifier("k"),n.ObjectExpression([n.SpreadElement(e.argument)]))]),n.ExpressionStatement(n.UnaryExpression("delete",n.memberExpression(n.identifier("k"),n.StringLiteral("className"),!0))),n.ReturnStatement(n.identifier("k"))])),[]))}(a,e))}}}}}}(f,s,l))})},{configName:"reactCssModulesMacro"})});
//# sourceMappingURL=react-css-modules.macro.umd.js.map
