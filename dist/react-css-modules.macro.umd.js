!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.reactCssModulesMacro=n()}(this,function(){function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=require("babel-plugin-macros").createMacro,i=require("../package.json").name,a={enableMemo:!0,targetTag:"styleName",warning:!0},o=function(e){return e&&e.name&&e.name.name?e.name.name:""};return r(function(r){var u=r.references,s=r.babel,c=function(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(i,!0).forEach(function(n){e(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},a,{},r.config),l=u.macro,f=s.types;(void 0===l?[]:l).forEach(function(e){var n=e.parent.arguments[0];if(!n)throw"Styles map argument must be provided";var r=e.findParent(function(e){return e.isProgram()});e.parentPath.remove();var a=r.get("body").find(function(e){return f.isImportDeclaration(e)}),u=r.get("body").find(function(e){return!f.isImportDeclaration(e)}),s=r.scope.generateUidIdentifier("getStyleName"),l=r.scope.generateUidIdentifier("bindStyleNames"),p="".concat(i,c.enableMemo?"/dist/bindStyleNameMemo":"/dist/bindStyleNamePure"),m=f.importDeclaration([f.importDefaultSpecifier(l)],f.stringLiteral(p)),b=f.variableDeclaration("const",[f.variableDeclarator(s,f.callExpression(l,[n,f.booleanLiteral(!!c.warning)]))]);a.insertBefore(m),u.insertBefore(b),r.traverse(function(e,n,r){return{JSXElement:function(i){if(i.node.openingElement.attributes.length){var a=function(e,n){var t=e.node.openingElement.attributes.find(function(e){return n.isJSXSpreadAttribute(e)});return!!t&&n.memberExpression(t.argument,n.identifier("className"))}(i,e),u=function(e,n,t){return e.node.openingElement.attributes.map(function(e){return t.isJSXAttribute(e)&&o(e)===n.targetTag}).indexOf(!0)}(i,r,e),s=i.node.openingElement.attributes.find(function(e){return o(e)===r.targetTag});if(s){var c=function(e,n){if(e.isStringLiteral(n.value)){if(!n.value.value)return;var t=n.value.value.split(" ").map(function(n){return e.stringLiteral(n)});return t.length>1?e.arrayExpression(t):t[0]?t[0]:void 0}return n.value.expression}(e,s),l=e.callExpression(n,t([c].filter(Boolean))),f=function(e,n){return e.node.openingElement.attributes.find(function(e){return"className"===o(e)})}(i);if(f)c&&(e.isJSXExpressionContainer(f.value)&&(f.value=e.JSXExpressionContainer(e.binaryExpression("+",f.value.expression,l))),e.isStringLiteral(f.value)&&(f.value=e.JSXExpressionContainer(e.binaryExpression("+",f.value,l)))),function(e,n){e.node.openingElement.attributes=t(e.node.openingElement.attributes.filter(function(e){return o(e)!==n.targetTag}))}(i,r);else{var p=function(e,n){return e.JSXAttribute(e.jsxIdentifier("className"),n)}(e,e.JSXExpressionContainer(a?e.binaryExpression("+",a,l):l));i.node.openingElement.attributes[u]=p}}}}}}(f,s,c))})},{configName:"reactCssModulesMacro"})});
//# sourceMappingURL=react-css-modules.macro.umd.js.map
