function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=require("babel-plugin-macros").createMacro,i=require("../package.json").name,a={enableMemo:!0,targetTag:"styleName",warning:!1},o=function(e){return e&&e.name&&e.name.name?e.name.name:""};export default r(function(r){var u=r.references,l=r.babel,s=function(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(i,!0).forEach(function(n){e(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},a,{},r.config),c=u.macro,f=l.types;(void 0===c?[]:c).forEach(function(e){var n=e.parent.arguments[0];if(!n)throw"Styles map argument must be provided";var r=e.findParent(function(e){return e.isProgram()});e.parentPath.remove();var a=r.get("body").find(function(e){return f.isImportDeclaration(e)}),u=r.get("body").find(function(e){return!f.isImportDeclaration(e)}),l=r.scope.generateUidIdentifier("getStyleName"),c=r.scope.generateUidIdentifier("bindStyleNames"),p="".concat(i,s.enableMemo?"/dist/bindStyleNameMemo":"/dist/bindStyleNamePure"),m=f.importDeclaration([f.importDefaultSpecifier(c)],f.stringLiteral(p)),b=f.variableDeclaration("const",[f.variableDeclarator(l,f.callExpression(c,[n,f.booleanLiteral(!!s.warning)]))]);a.insertBefore(m),u.insertBefore(b),r.traverse(function(e,n,r){return{JSXElement:function(i){if(i.node.openingElement.attributes.length){var a=i.node.openingElement.attributes.find(function(e){return o(e)===r.targetTag});if(a){!function(e,n){e.node.openingElement.attributes=t(e.node.openingElement.attributes.filter(function(e){return o(e)!==n.targetTag}))}(i,r);var u=function(e,n){if(e.isStringLiteral(n.value)){if(!n.value.value)return;var t=n.value.value.split(" ").map(function(n){return e.stringLiteral(n)});return t.length>1?e.arrayExpression(t):t[0]?t[0]:void 0}return n.value.expression}(e,a),l=e.callExpression(n,t([u].filter(Boolean))),s=function(e){return e.node.openingElement.attributes.find(function(e){return"className"===o(e)})}(i);if(s)u&&(e.isJSXExpressionContainer(s.value)&&(s.value=e.JSXExpressionContainer(e.binaryExpression("+",s.value.expression,l))),e.isStringLiteral(s.value)&&(s.value=e.JSXExpressionContainer(e.binaryExpression("+",s.value,l)))),i.node.openingElement.attributes=[s].concat(t(i.node.openingElement.attributes.filter(function(e){return"className"!==o(e)})));else{var c=function(e,n){return e.JSXAttribute(e.jsxIdentifier("className"),n)}(e,e.JSXExpressionContainer(l));i.node.openingElement.attributes=[c].concat(t(i.node.openingElement.attributes.filter(function(e){return"className"!==o(e)})))}}}}}}(f,l,s))})},{configName:"reactCssModulesMacro"});
//# sourceMappingURL=react-css-modules.macro.mjs.map
